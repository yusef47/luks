# ๐๏ธ ุจููุฉ ุงููุดุฑูุน - Lucas v2.0 (ุงููุฑุญูุฉ 1)

## ๐ ูููู ุงููุดุฑูุน

```
Lukas-main/
โโโ backend/                    # ุงูุฎุงุฏู ุงูุฎููู
โ   โโโ agents/                 # ุงููููุงุก (SearchAgent, VisionAgent, ุฅูุฎ)
โ   โ   โโโ index.js           # ุชุตุฏูุฑ ุงููููุงุก
โ   โโโ utils/                  # ุงูุฃุฏูุงุช ุงููุณุงุนุฏุฉ
โ   โ   โโโ errorHandler.js    # ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงููุฑูุฒูุฉ
โ   โ   โโโ intentClassifier.js # ุชุตููู ุงูููุงูุง
โ   โ   โโโ index.js           # ุชุตุฏูุฑ ุงูุฃุฏูุงุช
โ   โโโ db/                     # ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โ   โโโ index.js           # ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ keys/                   # ุฅุฏุงุฑุฉ ุงูููุงุชูุญ
โ   โ   โโโ keysManager.js     # ูุฏูุฑ ุงูููุงุชูุญ
โ   โ   โโโ index.js           # ุชุตุฏูุฑ ูุฏูุฑ ุงูููุงุชูุญ
โ   โโโ workflows/              # ุณูุฑ ุงูุนูู ุจูู ุงููููุงุก
โ   โ   โโโ index.js           # ุชุตุฏูุฑ workflows
โ   โโโ server.js              # ููู ุงูุฎุงุฏู ุงูุฑุฆูุณู
โ
โโโ src/                        # ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
โ   โโโ components/             # ููููุงุช React
โ   โ   โโโ index.ts           # ุชุตุฏูุฑ ุงูููููุงุช
โ   โโโ hooks/                  # ุงูู hooks ุงููุฎุตุตุฉ
โ   โ   โโโ index.ts           # ุชุตุฏูุฑ ุงูู hooks
โ   โโโ api/                    # ุนููุงุก API
โ   โ   โโโ index.ts           # ุนููู API ุงูุฑุฆูุณู
โ   โโโ context/                # ุฅุฏุงุฑุฉ ุงูุญุงูุฉ
โ   โ   โโโ index.ts           # Context ุงูุฑุฆูุณู
โ   โโโ index.tsx              # ููุทุฉ ุงูุฏุฎูู
โ
โโโ components/                 # ููููุงุช React ุงููุฏููุฉ (ุณูุชู ููููุง)
โโโ hooks/                      # ุงูู hooks ุงููุฏููุฉ (ุณูุชู ููููุง)
โโโ services/                   # ุงูุฎุฏูุงุช ุงููุฏููุฉ (ุณูุชู ููููุง)
โ
โโโ App.tsx                     # ุงููููู ุงูุฑุฆูุณู
โโโ index.html                  # ููู HTML ุงูุฑุฆูุณู
โโโ package.json               # ุงูููุชุจุงุช ูุงูู scripts
โโโ .env                        # ูุชุบูุฑุงุช ุงูุจูุฆุฉ
โโโ tsconfig.json              # ุฅุนุฏุงุฏุงุช TypeScript
โโโ vite.config.ts             # ุฅุนุฏุงุฏุงุช Vite
โโโ ARCHITECTURE.md            # ูุฐุง ุงูููู
```

---

## ๐ง ุงููููุงุช ุงูุฌุฏูุฏุฉ ูู ุงููุฑุญูุฉ 1

### Backend

#### 1. `backend/keys/keysManager.js`
**ุงููุธููุฉ:** ุฅุฏุงุฑุฉ ููุงุชูุญ API ุจุฐูุงุก
- ุชุชุจุน ุงุณุชุฎุฏุงู ูู ููุชุงุญ
- ุชุณุฌูู ุงูุฃุฎุทุงุก ูุงูุชุจุฏูู ุงูุชููุงุฆู
- ุฅุนุงุฏุฉ ุชุนููู ุงูููุงุชูุญ ุจุนุฏ timeout
- ุชูููุฑ ุฃูุถู ููุชุงุญ ูุชุงุญ

**ุงููุงุฌูุฉ:**
```javascript
const keysManager = require('./backend/keys');

// ุงูุญุตูู ุนูู ุฃูุถู ููุชุงุญ
const key = keysManager.getBestKey('SearchAgent');

// ุชุณุฌูู ุงูุงุณุชุฎุฏุงู
keysManager.recordUsage('SearchAgent');

// ุชุณุฌูู ุงูุฎุทุฃ
keysManager.recordError('SearchAgent', 429);

// ุงูุญุตูู ุนูู ุงูุญุงูุฉ
const status = keysManager.getStatus();
```

#### 2. `backend/utils/errorHandler.js`
**ุงููุธููุฉ:** ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงููุฑูุฒูุฉ
- ุชุตููู ุฃููุงุน ุงูุฃุฎุทุงุก
- ุชุญุฏูุฏ ูุง ุฅุฐุง ูุงู ูุฌุจ ุฅุนุงุฏุฉ ุงููุญุงููุฉ
- ุญุณุงุจ ุชุฃุฎูุฑ ุฅุนุงุฏุฉ ุงููุญุงููุฉ
- ุฅูุดุงุก ุงุณุชุฌุงุจุงุช ุฎุทุฃ ููุญุฏุฉ

**ุงููุงุฌูุฉ:**
```javascript
const ErrorHandler = require('./backend/utils').ErrorHandler;

// ูุนุงูุฌุฉ ุฎุทุฃ API
const error = ErrorHandler.handleAPIError(apiError, { agent: 'SearchAgent' });

// ูุนุงูุฌุฉ ุฎุทุฃ JSON
const jsonError = ErrorHandler.handleJSONError(parseError, { data: '...' });

// ุฅูุดุงุก ุงุณุชุฌุงุจุฉ ุฎุทุฃ
const response = ErrorHandler.createErrorResponse(error, 500);
```

#### 3. `backend/utils/intentClassifier.js`
**ุงููุธููุฉ:** ุชุตููู ุงูููุงูุง ูุญููุงู
- ุชุตููู ุงูุฑุณุงูุฉ ูุชุญุฏูุฏ ุงููููู ุงูููุงุณุจ
- ุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
- ุญุณุงุจ ุฏุฑุฌุฉ ุงูุซูุฉ
- ุงูุญุตูู ุนูู ุฃูุถู ูููุงุก ูุชุนุฏุฏุฉ

**ุงููุงุฌูุฉ:**
```javascript
const IntentClassifier = require('./backend/utils').IntentClassifier;

// ุชุตููู ุจุณูุท
const classification = IntentClassifier.classify('ุงุจุญุซ ุนู ุฃุฎุจุงุฑ');
// { agent: 'SearchAgent', confidence: 0.95, ... }

// ุงูุญุตูู ุนูู ุฃูุถู 3 ูููุงุก
const topAgents = IntentClassifier.getTopAgents('ุงุจุญุซ ุนู ุฃุฎุจุงุฑ', 3);
```

### Frontend

#### 1. `src/api/index.ts`
**ุงููุธููุฉ:** ุนููู API ููุญุฏ
- ุงุณุชุฏุนุงุกุงุช API ููุธูุฉ
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- ุฏุนู ุงูู streaming (ุณูุชู ุฅุถุงูุชู ูู ุงููุฑุญูุฉ 2)

#### 2. `src/context/index.ts`
**ุงููุธููุฉ:** ุฅุฏุงุฑุฉ ุงูุญุงูุฉ ุงูุนุงูุฉ
- ุญุงูุฉ ุงูุชุญููู
- ุฑุณุงุฆู ุงูุฎุทุฃ
- ุญุงูุฉ ุงูููุงุชูุญ

#### 3. `src/hooks/index.ts`
**ุงููุธููุฉ:** ุชุตุฏูุฑ ุงูู hooks ุงููุฎุตุตุฉ
- ุณูุชู ุฅุถุงูุฉ hooks ุฌุฏูุฏุฉ ููุง

#### 4. `src/components/index.ts`
**ุงููุธููุฉ:** ุชุตุฏูุฑ ุงูููููุงุช
- ุณูุชู ููู ุงูููููุงุช ููุง ุชุฏุฑูุฌูุงู

---

## ๐ ุงูุงูุชูุงู ูู ุงูุจููุฉ ุงููุฏููุฉ

### ุงููุฑุญูุฉ ุงูุญุงููุฉ (1):
- โ ุฅูุดุงุก ุงูุจููุฉ ุงูุฌุฏูุฏุฉ
- โ ูุตู ุงููุณุคูููุงุช
- โณ ุงููููุงุช ุงููุฏููุฉ ูุง ุชุฒุงู ููุฌูุฏุฉ

### ุงููุฑุงุญู ุงููุงุฏูุฉ:
- ููู ุงูููููุงุช ุชุฏุฑูุฌูุงู ูู `components/` ุฅูู `src/components/`
- ููู ุงูู hooks ูู `hooks/` ุฅูู `src/hooks/`
- ููู ุงูุฎุฏูุงุช ูู `services/` ุฅูู `backend/agents/`

---

## ๐ ุงูููุงุฆุฏ

| ุงูููุฒุฉ | ุงููุงุฆุฏุฉ |
|-------|---------|
| **ูุตู ุงููุณุคูููุงุช** | ุณูููุฉ ุงูุตูุงูุฉ ูุงูุชุทููุฑ |
| **ุฅุฏุงุฑุฉ ุงูููุงุชูุญ** | ุชุจุฏูู ุชููุงุฆู ูุฐูู |
| **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก** | ููุญุฏุฉ ูุณููุฉ ุงูุชุชุจุน |
| **ุชุตููู ุงูููุงูุง** | ูุญูู ูุณุฑูุน |
| **API ููุญุฏ** | ุณูููุฉ ุงูุงุณุชุฎุฏุงู ูู ุงููุงุฌูุฉ |

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ุงููุฑุญูุฉ 2:
- ุฏูุฌ Vercel AI SDK
- ุฅุถุงูุฉ ุงูู streaming ุงูุญูููู
- ุชุญุณูู ูุงุฌูุฉ ุงููุญุงุฏุซุฉ

### ุงููุฑุญูุฉ 3:
- ุชุญููู SearchAgent ุฅูู Mastra
- ุฅุถุงูุฉ Workflows

### ุงููุฑุญูุฉ 4:
- ุชุญุณูู ูุธุงู ุฅุฏุงุฑุฉ ุงูููุงุชูุญ
- ุฅุถุงูุฉ Rate Limiting

---

## โ ุงูุญุงูุฉ ุงูุญุงููุฉ

**ุงููุฑุญูุฉ 1: ููุชููุฉ โ**
- โ ุงูุจููุฉ ุงูุฃุณุงุณูุฉ ุฌุงูุฒุฉ
- โ ุงูููุงุชูุญ ูููุตูุฉ
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ููุญุฏุฉ
- โ ุชุตููู ุงูููุงูุง ูุญูู
- โ API ููุญุฏ

**ุงููุงุชุฌ:**
- ูุดุฑูุน ููุธู ูุฌุงูุฒ ููุชุฑููุฉ
- ุจุฏูู ุฃู ุชุบููุฑุงุช ุชุดุบูููุฉ
- ุฌุงูุฒ ูุงุณุชูุจุงู Mastra ู Vercel AI SDK

---

**ุขุฎุฑ ุชุญุฏูุซ:** ููููุจุฑ 14ุ 2025
**ุงูุฅุตุฏุงุฑ:** 2.0.0 (ุงููุฑุญูุฉ 1)
